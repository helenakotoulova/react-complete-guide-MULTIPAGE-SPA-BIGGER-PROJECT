{"version":3,"sources":["components/quotes/QuoteItem.module.css","components/quotes/QuoteList.module.css","components/quotes/NoQuotesFound.module.css","components/quotes/QuoteItem.js","components/quotes/QuoteList.js","components/quotes/NoQuotesFound.js","pages/AllQuotes.js"],"names":["module","exports","QuoteItem","props","className","classes","item","text","author","to","id","QuoteList","quotes","ascending","navigate","useNavigate","location","useLocation","isSortingAscenging","URLSearchParams","search","get","sortedQuotes","sort","quoteA","quoteB","sorting","onClick","pathname","list","map","quote","NoQuotesFound","noquotes","AllQuotes","useHttp","getAllQuotes","sendRequest","status","loadedQuotes","data","error","useEffect","LoadingSpinner","length"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,KAAO,0B,mBCAzBD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,QAAU,6B,mBCA3DD,EAAOC,QAAU,CAAC,SAAW,kC,wFCkBdC,EAhBG,SAACC,GACjB,OACE,qBAAIC,UAAWC,IAAQC,KAAvB,UACE,mCACE,qCACE,4BAAIH,EAAMI,SAEZ,qCAAaJ,EAAMK,YAErB,cAAC,IAAD,CAAMC,GAAE,kBAAaN,EAAMO,IAAMN,UAAU,MAA3C,iC,iBCmESO,EA9DG,SAACR,GAEjB,IAZkBS,EAAQC,EAYpBC,EAAWC,cACXC,EAAWC,cAMXC,EAAiD,QAHnC,IAAIC,gBAAgBH,EAASI,QAGVC,IAAI,QA6BrCC,GAhDYV,EAgDcT,EAAMS,OAhDZC,EAgDoBK,EA/CvCN,EAAOW,MAAK,SAACC,EAAQC,GAC1B,OAAIZ,EACKW,EAAOd,GAAKe,EAAOf,GAAK,GAAK,EAE7Bc,EAAOd,GAAKe,EAAOf,GAAK,GAAK,MA8CxC,OACE,eAAC,WAAD,WACE,qBAAKN,UAAWC,IAAQqB,QAAxB,SACE,yBAAQC,QAhCe,WAoB3Bb,EAASE,EAASY,SAAU,CAC1BR,OAAO,SAAD,OAAWF,EAAqB,OAAS,UAW7C,kBACQA,EAAqB,aAAe,iBAG9C,oBAAId,UAAWC,IAAQwB,KAAvB,SACGP,EAAaQ,KAAI,SAACC,GAAD,OAChB,cAAC,EAAD,CAEErB,GAAIqB,EAAMrB,GACVF,OAAQuB,EAAMvB,OACdD,KAAMwB,EAAMxB,MAHPwB,EAAMrB,a,wCCtDRsB,EAXO,WACpB,OACE,sBAAK5B,UAAWC,IAAQ4B,SAAxB,UACE,iDACA,cAAC,IAAD,CAAMxB,GAAG,aAAaL,UAAU,MAAhC,6BCgCS8B,UAhCG,WAChB,MAKIC,YAAQC,KAAc,GAJxBC,EADF,EACEA,YACAC,EAFF,EAEEA,OACMC,EAHR,EAGEC,KACAC,EAJF,EAIEA,MAOF,OAJAC,qBAAU,WACRL,MACC,CAACA,IAEW,YAAXC,EAEA,qBAAKlC,UAAU,WAAf,SACE,cAACuC,EAAA,EAAD,MAKFF,EACK,mBAAGrC,UAAU,mBAAb,SAAiCqC,IAI3B,cAAXH,GAA4BC,GAAwC,IAAxBA,EAAaK,OAItD,cAAC,EAAD,CAAWhC,OAAQ2B,IAHjB,cAAC,EAAD","file":"static/js/3.137fc2f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"QuoteItem_item__2BbMg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"QuoteList_list__3rqA0\",\"sorting\":\"QuoteList_sorting__Tel_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noquotes\":\"NoQuotesFound_noquotes__2ViGS\"};","import classes from './QuoteItem.module.css';\nimport {Link} from 'react-router-dom';\n\nconst QuoteItem = (props) => {\n  return (\n    <li className={classes.item}>\n      <figure>\n        <blockquote>\n          <p>{props.text}</p>\n        </blockquote>\n        <figcaption>{props.author}</figcaption>\n      </figure>\n      <Link to={`/quotes/${props.id}`} className='btn'>\n        View Fullscreen\n      </Link>\n    </li>\n  );\n};\n\nexport default QuoteItem;\n","import { Fragment } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nimport QuoteItem from \"./QuoteItem\";\nimport classes from \"./QuoteList.module.css\";\n\n// sortovaci funkci pridame pred tu komponentu QuoteList\nconst sortQuotes = (quotes, ascending) => {\n  return quotes.sort((quoteA, quoteB) => {\n    if (ascending) {\n      return quoteA.id > quoteB.id ? 1 : -1; // jestli je quoteA.id vetsi nez quoteB.id tak je to OK (1), jinak -1 a musi se prohodit.\n    } else {\n      return quoteA.id < quoteB.id ? 1 : -1;\n    }\n  });\n};\n\nconst QuoteList = (props) => {\n  //const history = useHistory(); // ve verzi 5\n  const navigate = useNavigate();\n  const location = useLocation(); // ma search parameter: search: '?sort=asc'\n\n  // takhle extractneme ty query Params\n  const queryParams = new URLSearchParams(location.search); // built in JS constructor function\n  // console.log(queryParams) => vypise to takovy dlouhy objekt\n  // abychom ziskali jen tu hodnotu query parameteru nazvanou sort, pouzijeme get metodu.\n  const isSortingAscenging = queryParams.get(\"sort\") === \"asc\"; // pokud to sort='asc', tak tohle bude true.\n  // pomoci te const isSortingAscending pak muzeme nastavit ten button dynamically.\n\n  const changeSortingHandler = () => {\n    /*\n    Mohli bychom tady pridat nejaky useState, aby se dalo nastavit jestli se to ma sortovat jako ascending nebo descending.\n    A podle toho by se spustila nejaka sortovaci fce.\n    My ale budeme ted pouzivat query parameters. Je to nejaky otaznik v url.\n    Kdyz pak nekomu posleme odkaz na tu stranku, tak tam bude zachovane to sortovani.\n    => ziskame tak sharable url.\n    Pouzijeme hook useHistory, ktery nam umozni zmenit url (napr. pri navigovani jinam) => tzn. \n    to ze muzeme menit url, znamena, ze budeme moc pridat query parameters do naseho url. \n    Pouzijeme push, abychom mohli jit zpet k tomu poslednimu nastavenemu sorting.\n    Ten query parameter je ten za tim OTAZNIKEM. Muzeme to zapsat jako /quotes?sort=asc ale pak tam budeme davat nejaky dynamic vyraz.\n    Pak chceme precist ten query parameter, abychom to mohli podle nej seradit ascendingly nebo descendingly.\n    Abychom to mohli precist pouzijeme useLocation hook, ktery nam umoznuje precist soucasnou url.\n    */\n\n    // pouzijeme tady taky more flexible routes code. nepotrebujeme ted ani useROuteMatch, staci nam useLocation.\n    // Puvodni verze: history.push(\"/quotes?sort=\" + (isSortingAscenging ? \"desc\" : \"asc\"));\n    // Pak jsme to zapsali takhle: history.push(`${location.pathname}?sort=${(isSortingAscenging ? \"desc\" : \"asc\")}`);\n    // Ale protoze se to tak blbe cte, napiseme to vice programatorsky:\n    //history.push({ // misto toho navigate:\n    navigate(location.pathname, {\n      search: `?sort=${isSortingAscenging ? \"desc\" : \"asc\"}`,\n    });\n  };\n\n  // tady vytvorime ty sortedQuotes, ktera pak zobrazuje v tom QuotesList.\n  const sortedQuotes = sortQuotes(props.quotes, isSortingAscenging);\n  // kdyz ted nekomu posleme tu url, tak tam bude ta informace o tom jestli je to asc nebo desc a taky se mu to tak seradi.\n\n  return (\n    <Fragment>\n      <div className={classes.sorting}>\n        <button onClick={changeSortingHandler}>\n          Sort {isSortingAscenging ? \"Descending\" : \"Ascending\"}\n        </button>\n      </div>\n      <ul className={classes.list}>\n        {sortedQuotes.map((quote) => (\n          <QuoteItem\n            key={quote.id}\n            id={quote.id}\n            author={quote.author}\n            text={quote.text}\n          />\n        ))}\n      </ul>\n    </Fragment>\n  );\n};\n\nexport default QuoteList;\n","import classes from './NoQuotesFound.module.css';\nimport {Link} from 'react-router-dom';\n\nconst NoQuotesFound = () => {\n  return (\n    <div className={classes.noquotes}>\n      <p>No quotes found!</p>\n      <Link to='/new-quote' className='btn'>\n        Add a Quote\n      </Link>\n    </div>\n  );\n};\n\nexport default NoQuotesFound;\n","import QuoteList from \"../components/quotes/QuoteList\";\r\nimport useHttp from \"../hooks/hooks/use-http\";\r\nimport { getAllQuotes } from \"../lib/lib/api\";\r\nimport { useEffect } from \"react\";\r\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\r\nimport NoQuotesFound from \"../components/quotes/NoQuotesFound\";\r\n\r\nconst AllQuotes = () => {\r\n  const {\r\n    sendRequest,\r\n    status,\r\n    data: loadedQuotes,\r\n    error,\r\n  } = useHttp(getAllQuotes, true); // zde nastavime true, protoze zaciname v loading state\r\n\r\n  useEffect(() => {\r\n    sendRequest();\r\n  }, [sendRequest]);\r\n\r\n  if (status === \"pending\") {\r\n    return (\r\n      <div className=\"centered\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"centered focused\">{error}</p>;\r\n  }\r\n\r\n  // pripad, kdy je loadovani dokonceni, ale nemame loadedQuotes (tzn: !loadedQuotes) nebo jsou prazdne, tzn jejich length === 0.\r\n  if (status === \"completed\" && (!loadedQuotes || loadedQuotes.length === 0)) {\r\n    return <NoQuotesFound />;\r\n  }\r\n\r\n  return <QuoteList quotes={loadedQuotes} />;\r\n};\r\n\r\nexport default AllQuotes;\r\n"],"sourceRoot":""}